import{S as X,i as x,s as ee,E as ll,k as D,a as q,l as V,m as C,c as B,h as m,n as N,V as O,b as $,I as S,N as K,F as tl,G as nl,H as il,f as g,t as b,C as rl,J as U,Q as pl,U as Z,e as y,g as j,d as G,Z as ce,_ as te,v as H,w as M,x as A,y as F,q as L,r as T,A as Y,R as gl,p as P,$ as fl,a0 as sl,u as bl,a1 as kl,T as ne,W as $l}from"../../../chunks/index-e7dad187.js";import{A as vl,b as wl,c as El,d as Nl,G as zl}from"../../../chunks/navigation-1bcfb984.js";import{p as Il}from"../../../chunks/stores-836ff054.js";import{m as ie,e as ae,a as ol,g as J,d as oe,I as Q,b as yl,c as Dl,h as cl,i as al,G as ue,S as _e,p as Vl,f as Sl}from"../../../chunks/SiteLinks-f646642c.js";import"../../../chunks/singletons-f098867a.js";function Cl(r){let e,l,t;return{c(){e=D("div"),l=D("img"),this.h()},l(n){e=V(n,"DIV",{});var i=C(e);l=V(i,"IMG",{class:!0,src:!0,alt:!0}),i.forEach(m),this.h()},h(){N(l,"class","w-full"),Z(l.src,t=r[11]+"_empty.svg")||N(l,"src",t),N(l,"alt","-")},m(n,i){$(n,e,i),S(e,l)},p(n,i){i&2048&&!Z(l.src,t=n[11]+"_empty.svg")&&N(l,"src",t)},d(n){n&&m(e)}}}function Rl(r){let e,l,t;const n=[Ml,Hl],i=[];function s(o,f){return o[1]||o[0].facedown?0:1}return e=s(r),l=i[e]=n[e](r),{c(){l.c(),t=y()},l(o){l.l(o),t=y()},m(o,f){i[e].m(o,f),$(o,t,f)},p(o,f){let c=e;e=s(o),e===c?i[e].p(o,f):(j(),b(i[c],1,1,()=>{i[c]=null}),G(),l=i[e],l?l.p(o,f):(l=i[e]=n[e](o),l.c()),g(l,1),l.m(t.parentNode,t))},d(o){i[e].d(o),o&&m(t)}}}function Hl(r){let e,l,t,n,i;return{c(){e=D("div"),l=D("img"),this.h()},l(s){e=V(s,"DIV",{});var o=C(e);l=V(o,"IMG",{class:!0,src:!0,alt:!0}),o.forEach(m),this.h()},h(){N(l,"class","w-full"),Z(l.src,t=r[11]+r[9]+".svg")||N(l,"src",t),N(l,"alt",r[10])},m(s,o){$(s,e,o),S(e,l),i=!0},p(s,o){(!i||o&2560&&!Z(l.src,t=s[11]+s[9]+".svg"))&&N(l,"src",t),(!i||o&1024)&&N(l,"alt",s[10])},i(s){i||(s&&ce(()=>{n||(n=te(e,re,{},!0)),n.run(1)}),i=!0)},o(s){s&&(n||(n=te(e,re,{},!1)),n.run(0)),i=!1},d(s){s&&m(e),s&&n&&n.end()}}}function Ml(r){let e,l,t,n,i;return{c(){e=D("div"),l=D("img"),this.h()},l(s){e=V(s,"DIV",{});var o=C(e);l=V(o,"IMG",{class:!0,src:!0,alt:!0}),o.forEach(m),this.h()},h(){N(l,"class","w-full"),Z(l.src,t=r[11]+"_back.svg")||N(l,"src",t),N(l,"alt","?")},m(s,o){$(s,e,o),S(e,l),i=!0},p(s,o){(!i||o&2048&&!Z(l.src,t=s[11]+"_back.svg"))&&N(l,"src",t)},i(s){i||(s&&ce(()=>{n||(n=te(e,re,{},!0)),n.run(1)}),i=!0)},o(s){s&&(n||(n=te(e,re,{},!1)),n.run(0)),i=!1},d(s){s&&m(e),s&&n&&n.end()}}}function Al(r){let e,l,t,n,i,s,o,f,c,_,k;function u(h,w){return h[0]?Rl:Cl}let d=u(r),a=d(r);const p=r[19].default,E=ll(p,r,r[18],null);return{c(){e=D("div"),l=D("div"),a.c(),t=q(),n=D("div"),E&&E.c(),this.h()},l(h){e=V(h,"DIV",{class:!0,style:!0});var w=C(e);l=V(w,"DIV",{class:!0,draggable:!0});var v=C(l);a.l(v),t=B(v),n=V(v,"DIV",{class:!0});var z=C(n);E&&E.l(z),z.forEach(m),v.forEach(m),w.forEach(m),this.h()},h(){var h,w;N(n,"class",i="absolute w-full h-full text-center top-2 text-"+(r[4]<100?"xs":"sm")),N(l,"class","cursor-pointer"),N(l,"draggable",s=Boolean(r[12])),N(e,"class",o="card container "+r[8]+" rounded-xl absolute svelte-oigr2j"),N(e,"style",f=r[6]+":"+r[7]+"px"),O(e,"selected",(w=(h=r[5])==null?void 0:h.selection)==null?void 0:w.filter(r[23]).length)},m(h,w){$(h,e,w),S(e,l),a.m(l,null),S(l,t),S(l,n),E&&E.m(n,null),c=!0,_||(k=[K(e,"dragstart",r[21]),K(e,"dragend",r[22]),K(e,"click",r[20])],_=!0)},p(h,[w]){var v,z;d===(d=u(h))&&a?a.p(h,w):(a.d(1),a=d(h),a&&(a.c(),a.m(l,t))),E&&E.p&&(!c||w&262144)&&tl(E,p,h,h[18],c?il(p,h[18],w,null):nl(h[18]),null),(!c||w&16&&i!==(i="absolute w-full h-full text-center top-2 text-"+(h[4]<100?"xs":"sm")))&&N(n,"class",i),(!c||w&4096&&s!==(s=Boolean(h[12])))&&N(l,"draggable",s),(!c||w&256&&o!==(o="card container "+h[8]+" rounded-xl absolute svelte-oigr2j"))&&N(e,"class",o),(!c||w&192&&f!==(f=h[6]+":"+h[7]+"px"))&&N(e,"style",f),w&289&&O(e,"selected",(z=(v=h[5])==null?void 0:v.selection)==null?void 0:z.filter(h[23]).length)},i(h){c||(g(E,h),c=!0)},o(h){b(E,h),c=!1},d(h){h&&m(e),a.d(),E&&E.d(h),_=!1,rl(k)}}}function re(r,{delay:e=0,duration:l=80}){return{delay:e,duration:l,css:(t,n)=>`
				transform: rotateY(${1-n*180}deg);
				opacity: ${1-n};
        ${n?"position:absolute;":"position:static"}
			`}}function Fl(r,e,l){let t,n,i,s,o,f,c,_;U(r,ie,R=>l(4,o=R)),U(r,ae,R=>l(16,f=R)),U(r,ol,R=>l(17,c=R)),U(r,J,R=>l(5,_=R));let{$$slots:k={},$$scope:u}=e,{card:d=void 0}=e,{facedown:a=!1}=e,{stack:p=void 0}=e,{cardIndex:E=0}=e,h,w,v,z,I,W;d&&(z=["hearts","diamonds"].includes(d.suitName)?"text-red-600":"text-black",I=d.isJoker?d.char==="1"?"_joker_black":"_joker_red":`${d.rank}_${d.suitName}`,W=d.isJoker?"joker":`${d.rank}${d.suit}`);function le(R){pl.call(this,r,R)}const dl=R=>{p&&(n==null?void 0:n.length)&&(oe.set({cards:n,cardDepth:t,fromStack:p==null?void 0:p.index}),_==null||_.clearSelected(),_==null||_.setSelected(n,p))},ml=R=>{oe.set({}),_==null||_.clearSelected(),J.set(_)},hl=R=>(R==null?void 0:R.id)===(d==null?void 0:d.id);return r.$$set=R=>{"card"in R&&l(0,d=R.card),"facedown"in R&&l(1,a=R.facedown),"stack"in R&&l(2,p=R.stack),"cardIndex"in R&&l(14,E=R.cardIndex),"$$scope"in R&&l(18,u=R.$$scope)},r.$$.update=()=>{var R,me,he;r.$$.dirty&16388&&l(3,t=p==null?void 0:p.getCardDepth(E)),r.$$.dirty&12&&l(13,n=t?p==null?void 0:p.look(t):[]),r.$$.dirty&47&&l(12,i=d&&!a&&!((R=_==null?void 0:_.conf)!=null&&R.multiSelect)&&t&&!d.facedown&&(((me=_==null?void 0:_.conf)==null?void 0:me.selectBlockedStacks)||!(p!=null&&p.isBlocked))&&(!((he=p==null?void 0:p.conf)!=null&&he.limitAvailable)||t<=p.conf.limitAvailable)),r.$$.dirty&245764&&p&&(l(15,h=Math.max(E-p.firstVisible,0)),l(7,v=p!=null&&p.isDeck?0:h*(p.conf.horizontal?c:f)),l(6,w=p.conf.horizontal?"left":"top")),r.$$.dirty&16&&l(11,s=o>100?"/cards/":"/cards/small/")},[d,a,p,t,o,_,w,v,z,I,W,s,i,n,E,h,f,c,u,k,le,dl,ml,hl]}class se extends X{constructor(e){super(),x(this,e,Fl,Al,ee,{card:0,facedown:1,stack:2,cardIndex:14})}}/*!
 * Font Awesome Free 6.0.0-beta2 by @fontawesome - https://fontawesome.com
 * License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License)
 */var Wl={prefix:"far",iconName:"file",icon:[384,512,[128459,61462,128196],"f15b","M365.3 93.38l-74.63-74.64C278.6 6.743 262.3 0 245.4 0L64-.0001c-35.35 0-64 28.65-64 64l.0065 384c0 35.35 28.65 64 64 64H320c35.2 0 64-28.8 64-64V138.6C384 121.7 377.3 105.4 365.3 93.38zM320 464H64.02c-8.836 0-15.1-7.163-16-15.1L48 64.13c-.0004-8.837 7.163-16 16-16h160L224 128c0 17.67 14.33 32 32 32h79.1v288C336 456.8 328.8 464 320 464z"]},jl={prefix:"far",iconName:"share-from-square",icon:[576,512,[61509,"share-square"],"f14d","M568.5 142.6l-144-135.1c-9.625-9.156-24.81-8.656-33.91 .9687c-9.125 9.625-8.688 24.81 .9687 33.91l100.1 94.56h-163.4C287.5 134.2 249.7 151 221 179.4C192 208.2 176 246.7 176 288v87.1c0 13.25 10.75 23.1 24 23.1S224 389.3 224 376V288c0-28.37 10.94-54.84 30.78-74.5C274.3 194.2 298.9 183 328 184h163.6l-100.1 94.56c-9.656 9.094-10.09 24.28-.9687 33.91c4.719 4.1 11.06 7.531 17.44 7.531c5.906 0 11.84-2.156 16.47-6.562l144-135.1C573.3 172.9 576 166.6 576 160S573.3 147.1 568.5 142.6zM360 384c-13.25 0-24 10.75-24 23.1v47.1c0 4.406-3.594 7.1-8 7.1h-272c-4.406 0-8-3.594-8-7.1V184c0-4.406 3.594-7.1 8-7.1H112c13.25 0 24-10.75 24-23.1s-10.75-23.1-24-23.1H56c-30.88 0-56 25.12-56 55.1v271.1C0 486.9 25.13 512 56 512h272c30.88 0 56-25.12 56-55.1v-47.1C384 394.8 373.3 384 360 384z"]},ul=jl,fe={prefix:"far",iconName:"square",icon:[448,512,[9723,9724,61590,9632],"f0c8","M384 31.1H64c-35.35 0-64 28.65-64 63.1v320c0 35.35 28.65 64 64 64h320c35.35 0 64-28.65 64-64v-320C448 60.65 419.3 31.1 384 31.1zM400 416c0 8.822-7.178 16-16 16H64c-8.822 0-16-7.178-16-16V96c0-8.822 7.178-16 16-16h320c8.822 0 16 7.178 16 16V416z"]};function pe(r){let e,l;return e=new Q({props:{icon:yl,class:r[5],size:r[4],linear:r[2],$$slots:{default:[Gl]},$$scope:{ctx:r}}}),e.$on("click",r[9]),{c(){H(e.$$.fragment)},l(t){M(e.$$.fragment,t)},m(t,n){A(e,t,n),l=!0},p(t,n){const i={};n&32&&(i.class=t[5]),n&16&&(i.size=t[4]),n&4&&(i.linear=t[2]),n&65538&&(i.$$scope={dirty:n,ctx:t}),e.$set(i)},i(t){l||(g(e.$$.fragment,t),l=!0)},o(t){b(e.$$.fragment,t),l=!1},d(t){F(e,t)}}}function ge(r){let e;return{c(){e=L("Undo")},l(l){e=T(l,"Undo")},m(l,t){$(l,e,t)},d(l){l&&m(e)}}}function Gl(r){let e,l=r[1]&&ge();return{c(){l&&l.c(),e=y()},l(t){l&&l.l(t),e=y()},m(t,n){l&&l.m(t,n),$(t,e,n)},p(t,n){t[1]?l||(l=ge(),l.c(),l.m(e.parentNode,e)):l&&(l.d(1),l=null)},d(t){l&&l.d(t),t&&m(e)}}}function be(r){let e,l;return e=new Q({props:{icon:Dl,class:r[5],size:r[4],linear:r[2],$$slots:{default:[ql]},$$scope:{ctx:r}}}),e.$on("click",r[10]),{c(){H(e.$$.fragment)},l(t){M(e.$$.fragment,t)},m(t,n){A(e,t,n),l=!0},p(t,n){const i={};n&32&&(i.class=t[5]),n&16&&(i.size=t[4]),n&4&&(i.linear=t[2]),n&65538&&(i.$$scope={dirty:n,ctx:t}),e.$set(i)},i(t){l||(g(e.$$.fragment,t),l=!0)},o(t){b(e.$$.fragment,t),l=!1},d(t){F(e,t)}}}function ke(r){let e;return{c(){e=L("Redo")},l(l){e=T(l,"Redo")},m(l,t){$(l,e,t)},d(l){l&&m(e)}}}function ql(r){let e,l=r[1]&&ke();return{c(){l&&l.c(),e=y()},l(t){l&&l.l(t),e=y()},m(t,n){l&&l.m(t,n),$(t,e,n)},p(t,n){t[1]?l||(l=ke(),l.c(),l.m(e.parentNode,e)):l&&(l.d(1),l=null)},d(t){l&&l.d(t),t&&m(e)}}}function $e(r){let e,l;return e=new Q({props:{icon:Wl,class:r[5],size:r[4],linear:r[2],dropdownFrom:r[3],$$slots:{menu:[Jl],default:[Bl]},$$scope:{ctx:r}}}),{c(){H(e.$$.fragment)},l(t){M(e.$$.fragment,t)},m(t,n){A(e,t,n),l=!0},p(t,n){const i={};n&32&&(i.class=t[5]),n&16&&(i.size=t[4]),n&4&&(i.linear=t[2]),n&8&&(i.dropdownFrom=t[3]),n&65714&&(i.$$scope={dirty:n,ctx:t}),e.$set(i)},i(t){l||(g(e.$$.fragment,t),l=!0)},o(t){b(e.$$.fragment,t),l=!1},d(t){F(e,t)}}}function ve(r){let e;return{c(){e=L("Game")},l(l){e=T(l,"Game")},m(l,t){$(l,e,t)},d(l){l&&m(e)}}}function Bl(r){let e,l=r[1]&&ve();return{c(){l&&l.c(),e=y()},l(t){l&&l.l(t),e=y()},m(t,n){l&&l.m(t,n),$(t,e,n)},p(t,n){t[1]?l||(l=ve(),l.c(),l.m(e.parentNode,e)):l&&(l.d(1),l=null)},d(t){l&&l.d(t),t&&m(e)}}}function we(r){let e;return{c(){e=L("Share")},l(l){e=T(l,"Share")},m(l,t){$(l,e,t)},d(l){l&&m(e)}}}function Ll(r){let e,l=r[1]&&we();return{c(){l&&l.c(),e=y()},l(t){l&&l.l(t),e=y()},m(t,n){l&&l.m(t,n),$(t,e,n)},p(t,n){t[1]?l||(l=we(),l.c(),l.m(e.parentNode,e)):l&&(l.d(1),l=null)},d(t){l&&l.d(t),t&&m(e)}}}function Tl(r){let e,l;return{c(){e=D("span"),l=L("Link\xA0copied!"),this.h()},l(t){e=V(t,"SPAN",{class:!0,slot:!0});var n=C(e);l=T(n,"Link\xA0copied!"),n.forEach(m),this.h()},h(){N(e,"class","p-2"),N(e,"slot","menu")},m(t,n){$(t,e,n),S(e,l)},p:Y,d(t){t&&m(e)}}}function Ee(r){let e;return{c(){e=L("New")},l(l){e=T(l,"New")},m(l,t){$(l,e,t)},d(l){l&&m(e)}}}function Pl(r){let e,l=r[1]&&Ee();return{c(){l&&l.c(),e=y()},l(t){l&&l.l(t),e=y()},m(t,n){l&&l.m(t,n),$(t,e,n)},p(t,n){t[1]?l||(l=Ee(),l.c(),l.m(e.parentNode,e)):l&&(l.d(1),l=null)},d(t){l&&l.d(t),t&&m(e)}}}function Ne(r){let e;return{c(){e=L("Restart")},l(l){e=T(l,"Restart")},m(l,t){$(l,e,t)},d(l){l&&m(e)}}}function Ul(r){let e,l=r[1]&&Ne();return{c(){l&&l.c(),e=y()},l(t){l&&l.l(t),e=y()},m(t,n){l&&l.m(t,n),$(t,e,n)},p(t,n){t[1]?l||(l=Ne(),l.c(),l.m(e.parentNode,e)):l&&(l.d(1),l=null)},d(t){l&&l.d(t),t&&m(e)}}}function Jl(r){let e,l,t,n,i,s,o;return l=new Q({props:{linear:!0,icon:ul,class:r[5],size:r[4],dropdownFrom:"left",$$slots:{menu:[Tl],default:[Ll]},$$scope:{ctx:r}}}),l.$on("click",r[8]),n=new Q({props:{linear:!0,icon:fe,overlay:cl,class:r[5],size:r[4],$$slots:{default:[Pl]},$$scope:{ctx:r}}}),n.$on("click",r[11]),s=new Q({props:{linear:!0,icon:fe,overlay:al,class:r[5],size:r[4],$$slots:{default:[Ul]},$$scope:{ctx:r}}}),s.$on("click",r[12]),{c(){e=D("div"),H(l.$$.fragment),t=q(),H(n.$$.fragment),i=q(),H(s.$$.fragment),this.h()},l(f){e=V(f,"DIV",{slot:!0});var c=C(e);M(l.$$.fragment,c),t=B(c),M(n.$$.fragment,c),i=B(c),M(s.$$.fragment,c),c.forEach(m),this.h()},h(){N(e,"slot","menu")},m(f,c){$(f,e,c),A(l,e,null),S(e,t),A(n,e,null),S(e,i),A(s,e,null),o=!0},p(f,c){const _={};c&32&&(_.class=f[5]),c&16&&(_.size=f[4]),c&65538&&(_.$$scope={dirty:c,ctx:f}),l.$set(_);const k={};c&32&&(k.class=f[5]),c&16&&(k.size=f[4]),c&65538&&(k.$$scope={dirty:c,ctx:f}),n.$set(k);const u={};c&32&&(u.class=f[5]),c&16&&(u.size=f[4]),c&65538&&(u.$$scope={dirty:c,ctx:f}),s.$set(u)},i(f){o||(g(l.$$.fragment,f),g(n.$$.fragment,f),g(s.$$.fragment,f),o=!0)},o(f){b(l.$$.fragment,f),b(n.$$.fragment,f),b(s.$$.fragment,f),o=!1},d(f){f&&m(e),F(l),F(n),F(s)}}}function ze(r){let e,l;return e=new Q({props:{icon:ul,class:r[5],size:r[4],linear:r[2],dropdownFrom:r[3],$$slots:{menu:[Ql],default:[Ol]},$$scope:{ctx:r}}}),e.$on("click",r[8]),{c(){H(e.$$.fragment)},l(t){M(e.$$.fragment,t)},m(t,n){A(e,t,n),l=!0},p(t,n){const i={};n&32&&(i.class=t[5]),n&16&&(i.size=t[4]),n&4&&(i.linear=t[2]),n&8&&(i.dropdownFrom=t[3]),n&65538&&(i.$$scope={dirty:n,ctx:t}),e.$set(i)},i(t){l||(g(e.$$.fragment,t),l=!0)},o(t){b(e.$$.fragment,t),l=!1},d(t){F(e,t)}}}function Ie(r){let e;return{c(){e=L("Share")},l(l){e=T(l,"Share")},m(l,t){$(l,e,t)},d(l){l&&m(e)}}}function Ol(r){let e,l=r[1]&&Ie();return{c(){l&&l.c(),e=y()},l(t){l&&l.l(t),e=y()},m(t,n){l&&l.m(t,n),$(t,e,n)},p(t,n){t[1]?l||(l=Ie(),l.c(),l.m(e.parentNode,e)):l&&(l.d(1),l=null)},d(t){l&&l.d(t),t&&m(e)}}}function Ql(r){let e,l;return{c(){e=D("span"),l=L("Link\xA0copied!"),this.h()},l(t){e=V(t,"SPAN",{class:!0,slot:!0});var n=C(e);l=T(n,"Link\xA0copied!"),n.forEach(m),this.h()},h(){N(e,"class","p-2"),N(e,"slot","menu")},m(t,n){$(t,e,n),S(e,l)},p:Y,d(t){t&&m(e)}}}function ye(r){let e,l;return e=new Q({props:{icon:fe,overlay:al,class:r[5],size:r[4],linear:r[2],$$slots:{default:[Yl]},$$scope:{ctx:r}}}),e.$on("click",r[13]),{c(){H(e.$$.fragment)},l(t){M(e.$$.fragment,t)},m(t,n){A(e,t,n),l=!0},p(t,n){const i={};n&32&&(i.class=t[5]),n&16&&(i.size=t[4]),n&4&&(i.linear=t[2]),n&65538&&(i.$$scope={dirty:n,ctx:t}),e.$set(i)},i(t){l||(g(e.$$.fragment,t),l=!0)},o(t){b(e.$$.fragment,t),l=!1},d(t){F(e,t)}}}function De(r){let e;return{c(){e=L("Restart")},l(l){e=T(l,"Restart")},m(l,t){$(l,e,t)},d(l){l&&m(e)}}}function Yl(r){let e,l=r[1]&&De();return{c(){l&&l.c(),e=y()},l(t){l&&l.l(t),e=y()},m(t,n){l&&l.m(t,n),$(t,e,n)},p(t,n){t[1]?l||(l=De(),l.c(),l.m(e.parentNode,e)):l&&(l.d(1),l=null)},d(t){l&&l.d(t),t&&m(e)}}}function Ve(r){let e,l;return e=new Q({props:{icon:fe,overlay:cl,class:r[5],size:r[4],linear:r[2],$$slots:{default:[Zl]},$$scope:{ctx:r}}}),e.$on("click",r[14]),{c(){H(e.$$.fragment)},l(t){M(e.$$.fragment,t)},m(t,n){A(e,t,n),l=!0},p(t,n){const i={};n&32&&(i.class=t[5]),n&16&&(i.size=t[4]),n&4&&(i.linear=t[2]),n&65538&&(i.$$scope={dirty:n,ctx:t}),e.$set(i)},i(t){l||(g(e.$$.fragment,t),l=!0)},o(t){b(e.$$.fragment,t),l=!1},d(t){F(e,t)}}}function Se(r){let e;return{c(){e=L("New")},l(l){e=T(l,"New")},m(l,t){$(l,e,t)},d(l){l&&m(e)}}}function Zl(r){let e,l=r[1]&&Se();return{c(){l&&l.c(),e=y()},l(t){l&&l.l(t),e=y()},m(t,n){l&&l.m(t,n),$(t,e,n)},p(t,n){t[1]?l||(l=Se(),l.c(),l.m(e.parentNode,e)):l&&(l.d(1),l=null)},d(t){l&&l.d(t),t&&m(e)}}}function Kl(r){let e,l=r[0].includes("undo"),t,n=r[0].includes("redo"),i,s=r[0].includes("game"),o,f=r[0].includes("share"),c,_=r[0].includes("restart"),k,u=r[0].includes("new"),d,a=l&&pe(r),p=n&&be(r),E=s&&$e(r),h=f&&ze(r),w=_&&ye(r),v=u&&Ve(r);return{c(){e=D("span"),a&&a.c(),t=q(),p&&p.c(),i=q(),E&&E.c(),o=q(),h&&h.c(),c=q(),w&&w.c(),k=q(),v&&v.c()},l(z){e=V(z,"SPAN",{});var I=C(e);a&&a.l(I),t=B(I),p&&p.l(I),i=B(I),E&&E.l(I),o=B(I),h&&h.l(I),c=B(I),w&&w.l(I),k=B(I),v&&v.l(I),I.forEach(m)},m(z,I){$(z,e,I),a&&a.m(e,null),S(e,t),p&&p.m(e,null),S(e,i),E&&E.m(e,null),S(e,o),h&&h.m(e,null),S(e,c),w&&w.m(e,null),S(e,k),v&&v.m(e,null),r[15](e),d=!0},p(z,[I]){I&1&&(l=z[0].includes("undo")),l?a?(a.p(z,I),I&1&&g(a,1)):(a=pe(z),a.c(),g(a,1),a.m(e,t)):a&&(j(),b(a,1,1,()=>{a=null}),G()),I&1&&(n=z[0].includes("redo")),n?p?(p.p(z,I),I&1&&g(p,1)):(p=be(z),p.c(),g(p,1),p.m(e,i)):p&&(j(),b(p,1,1,()=>{p=null}),G()),I&1&&(s=z[0].includes("game")),s?E?(E.p(z,I),I&1&&g(E,1)):(E=$e(z),E.c(),g(E,1),E.m(e,o)):E&&(j(),b(E,1,1,()=>{E=null}),G()),I&1&&(f=z[0].includes("share")),f?h?(h.p(z,I),I&1&&g(h,1)):(h=ze(z),h.c(),g(h,1),h.m(e,c)):h&&(j(),b(h,1,1,()=>{h=null}),G()),I&1&&(_=z[0].includes("restart")),_?w?(w.p(z,I),I&1&&g(w,1)):(w=ye(z),w.c(),g(w,1),w.m(e,k)):w&&(j(),b(w,1,1,()=>{w=null}),G()),I&1&&(u=z[0].includes("new")),u?v?(v.p(z,I),I&1&&g(v,1)):(v=Ve(z),v.c(),g(v,1),v.m(e,null)):v&&(j(),b(v,1,1,()=>{v=null}),G())},i(z){d||(g(a),g(p),g(E),g(h),g(w),g(v),d=!0)},o(z){b(a),b(p),b(E),b(h),b(w),b(v),d=!1},d(z){z&&m(e),a&&a.d(),p&&p.d(),E&&E.d(),h&&h.d(),w&&w.d(),v&&v.d(),r[15](null)}}}function Xl(r,e,l){let t;U(r,J,v=>l(7,t=v));let{buttons:n="undo,redo,share,restart,new,edit"}=e,{text:i=!0}=e,{linear:s=!1}=e,{position:o="top"}=e,{size:f="2x"}=e,{class:c=""}=e,_;function k(){navigator.clipboard.writeText(`https://solitaire.dnotes.net/play?g=${t.conf.toString()}&d=${t.deck.toString()}`),setTimeout(()=>{_.click()},800)}const u=()=>{t.doUndo(),J.set(t)},d=()=>{t.doRedo(),J.set(t)},a=()=>{t.new(),J.set(t)},p=()=>{t.reset(),J.set(t)},E=()=>{t.reset(),J.set(t)},h=()=>{t.new(),J.set(t)};function w(v){gl[v?"unshift":"push"](()=>{_=v,l(6,_)})}return r.$$set=v=>{"buttons"in v&&l(0,n=v.buttons),"text"in v&&l(1,i=v.text),"linear"in v&&l(2,s=v.linear),"position"in v&&l(3,o=v.position),"size"in v&&l(4,f=v.size),"class"in v&&l(5,c=v.class)},[n,i,s,o,f,c,_,t,k,u,d,a,p,E,h,w]}class de extends X{constructor(e){super(),x(this,e,Xl,Kl,ee,{buttons:0,text:1,linear:2,position:3,size:4,class:5})}}function Ce(r,e,l){const t=r.slice();return t[19]=e[l],t[21]=l,t}function Re(r,e,l){const t=r.slice();return t[19]=e[l],t[21]=l,t}function xl(r){let e,l,t;const n=r[11].default,i=ll(n,r,r[16],null);return{c(){e=D("div"),i&&i.c(),this.h()},l(s){e=V(s,"DIV",{class:!0,style:!0});var o=C(e);i&&i.l(o),o.forEach(m),this.h()},h(){N(e,"class",l="relative "+r[3]+" box-content"),P(e,"width",(r[0]==="-"?r[2]/2:r[2])+"px")},m(s,o){$(s,e,o),i&&i.m(e,null),t=!0},p(s,o){i&&i.p&&(!t||o&65536)&&tl(i,n,s,s[16],t?il(n,s[16],o,null):nl(s[16]),null),(!t||o&8&&l!==(l="relative "+s[3]+" box-content"))&&N(e,"class",l),(!t||o&5)&&P(e,"width",(s[0]==="-"?s[2]/2:s[2])+"px")},i(s){t||(g(i,s),t=!0)},o(s){b(i,s),t=!1},d(s){s&&m(e),i&&i.d(s)}}}function et(r){let e,l,t,n,i,s=r[0]&&He(r);return{c(){e=D("div"),l=D("div"),s&&s.c(),this.h()},l(o){e=V(o,"DIV",{class:!0,style:!0});var f=C(e);l=V(f,"DIV",{class:!0,style:!0});var c=C(l);s&&s.l(c),c.forEach(m),f.forEach(m),this.h()},h(){N(l,"class","relative h-full"),P(l,"max-width",r[2]+"px"),N(e,"class","relative justify-center"),P(e,"height",r[5]+"px"),P(e,"width",r[6]+"px"),O(e,"pointer-events-auto",r[0]&&(r[0].length||r[0].isDeck||r[0].conf.showEmpty)),O(e,"p-1",r[2]>100)},m(o,f){$(o,e,f),S(e,l),s&&s.m(l,null),t=!0,n||(i=[K(e,"dragover",ct),K(e,"drop",r[15])],n=!0)},p(o,f){o[0]?s?(s.p(o,f),f&1&&g(s,1)):(s=He(o),s.c(),g(s,1),s.m(l,null)):s&&(j(),b(s,1,1,()=>{s=null}),G()),(!t||f&4)&&P(l,"max-width",o[2]+"px"),(!t||f&32)&&P(e,"height",o[5]+"px"),(!t||f&64)&&P(e,"width",o[6]+"px"),f&1&&O(e,"pointer-events-auto",o[0]&&(o[0].length||o[0].isDeck||o[0].conf.showEmpty)),f&4&&O(e,"p-1",o[2]>100)},i(o){t||(g(s),t=!0)},o(o){b(s),t=!1},d(o){o&&m(e),s&&s.d(),n=!1,rl(i)}}}function He(r){let e,l,t,n;const i=[tt,lt],s=[];function o(f,c){return f[0].isDeck?0:1}return e=o(r),l=s[e]=i[e](r),{c(){l.c(),t=y()},l(f){l.l(f),t=y()},m(f,c){s[e].m(f,c),$(f,t,c),n=!0},p(f,c){let _=e;e=o(f),e===_?s[e].p(f,c):(j(),b(s[_],1,1,()=>{s[_]=null}),G(),l=s[e],l?l.p(f,c):(l=s[e]=i[e](f),l.c()),g(l,1),l.m(t.parentNode,t))},i(f){n||(g(l),n=!0)},o(f){b(l),n=!1},d(f){s[e].d(f),f&&m(t)}}}function lt(r){let e=[],l=new Map,t,n,i=r[0].stack;const s=f=>f[19].id;for(let f=0;f<i.length;f+=1){let c=Ce(r,i,f),_=s(c);l.set(_,e[f]=je(_,c))}let o=null;return i.length||(o=Me(r)),{c(){for(let f=0;f<e.length;f+=1)e[f].c();t=y(),o&&o.c()},l(f){for(let c=0;c<e.length;c+=1)e[c].l(f);t=y(),o&&o.l(f)},m(f,c){for(let _=0;_<e.length;_+=1)e[_].m(f,c);$(f,t,c),o&&o.m(f,c),n=!0},p(f,c){c&405&&(i=f[0].stack,j(),e=fl(e,c,s,1,f,i,l,t.parentNode,sl,je,t,Ce),G(),!i.length&&o?o.p(f,c):i.length?o&&(j(),b(o,1,1,()=>{o=null}),G()):(o=Me(f),o.c(),g(o,1),o.m(t.parentNode,t)))},i(f){if(!n){for(let c=0;c<i.length;c+=1)g(e[c]);n=!0}},o(f){for(let c=0;c<e.length;c+=1)b(e[c]);n=!1},d(f){for(let c=0;c<e.length;c+=1)e[c].d(f);f&&m(t),o&&o.d(f)}}}function tt(r){let e=[],l=new Map,t,n,i=r[0].stack;const s=f=>f[19].id;for(let f=0;f<i.length;f+=1){let c=Re(r,i,f),_=s(c);l.set(_,e[f]=Be(_,c))}let o=null;return i.length||(o=Ge(r)),{c(){for(let f=0;f<e.length;f+=1)e[f].c();t=y(),o&&o.c()},l(f){for(let c=0;c<e.length;c+=1)e[c].l(f);t=y(),o&&o.l(f)},m(f,c){for(let _=0;_<e.length;_+=1)e[_].m(f,c);$(f,t,c),o&&o.m(f,c),n=!0},p(f,c){c&389&&(i=f[0].stack,j(),e=fl(e,c,s,1,f,i,l,t.parentNode,sl,Be,t,Re),G(),!i.length&&o?o.p(f,c):i.length?o&&(j(),b(o,1,1,()=>{o=null}),G()):(o=Ge(f),o.c(),g(o,1),o.m(t.parentNode,t)))},i(f){if(!n){for(let c=0;c<i.length;c+=1)g(e[c]);n=!0}},o(f){for(let c=0;c<e.length;c+=1)b(e[c]);n=!1},d(f){for(let c=0;c<e.length;c+=1)e[c].d(f);f&&m(t),o&&o.d(f)}}}function Me(r){let e,l,t=r[7].conf.showEmpty&&Ae(r);return{c(){t&&t.c(),e=y()},l(n){t&&t.l(n),e=y()},m(n,i){t&&t.m(n,i),$(n,e,i),l=!0},p(n,i){n[7].conf.showEmpty?t?(t.p(n,i),i&128&&g(t,1)):(t=Ae(n),t.c(),g(t,1),t.m(e.parentNode,e)):t&&(j(),b(t,1,1,()=>{t=null}),G())},i(n){l||(g(t),l=!0)},o(n){b(t),l=!1},d(n){t&&t.d(n),n&&m(e)}}}function Ae(r){let e,l;return e=new se({props:{$$slots:{default:[nt]},$$scope:{ctx:r}}}),{c(){H(e.$$.fragment)},l(t){M(e.$$.fragment,t)},m(t,n){A(e,t,n),l=!0},p(t,n){const i={};n&65556&&(i.$$scope={dirty:n,ctx:t}),e.$set(i)},i(t){l||(g(e.$$.fragment,t),l=!0)},o(t){b(e.$$.fragment,t),l=!1},d(t){F(e,t)}}}function Fe(r){let e,l;return{c(){e=D("div"),l=L("\xA0"),this.h()},l(t){e=V(t,"DIV",{class:!0,style:!0});var n=C(e);l=T(n,"\xA0"),n.forEach(m),this.h()},h(){N(e,"class","absolute w-full top-0 bg-blue-300 opacity-40 rounded-xl -my-2"),P(e,"height",r[2]*1.5+"px")},m(t,n){$(t,e,n),S(e,l)},p(t,n){n&4&&P(e,"height",t[2]*1.5+"px")},d(t){t&&m(e)}}}function nt(r){let e,l=r[4]&&Fe(r);return{c(){l&&l.c(),e=q()},l(t){l&&l.l(t),e=B(t)},m(t,n){l&&l.m(t,n),$(t,e,n)},p(t,n){t[4]?l?l.p(t,n):(l=Fe(t),l.c(),l.m(e.parentNode,e)):l&&(l.d(1),l=null)},d(t){l&&l.d(t),t&&m(e)}}}function We(r){let e,l;return{c(){e=D("div"),l=L("\xA0"),this.h()},l(t){e=V(t,"DIV",{class:!0,style:!0});var n=C(e);l=T(n,"\xA0"),n.forEach(m),this.h()},h(){N(e,"class","absolute w-full top-0 bg-blue-500 opacity-40 rounded-xl -my-2"),P(e,"height",r[2]*1.5+"px")},m(t,n){$(t,e,n),S(e,l)},p(t,n){n&4&&P(e,"height",t[2]*1.5+"px")},d(t){t&&m(e)}}}function it(r){let e,l=r[4]&&r[21]===r[0].length-1&&We(r);return{c(){l&&l.c(),e=q()},l(t){l&&l.l(t),e=B(t)},m(t,n){l&&l.m(t,n),$(t,e,n)},p(t,n){t[4]&&t[21]===t[0].length-1?l?l.p(t,n):(l=We(t),l.c(),l.m(e.parentNode,e)):l&&(l.d(1),l=null)},d(t){l&&l.d(t),t&&m(e)}}}function je(r,e){let l,t,n;function i(){return e[14](e[19])}return t=new se({props:{card:e[19],stack:e[0],cardIndex:e[21],$$slots:{default:[it]},$$scope:{ctx:e}}}),t.$on("click",i),{key:r,first:null,c(){l=y(),H(t.$$.fragment),this.h()},l(s){l=y(),M(t.$$.fragment,s),this.h()},h(){this.first=l},m(s,o){$(s,l,o),A(t,s,o),n=!0},p(s,o){e=s;const f={};o&1&&(f.card=e[19]),o&1&&(f.stack=e[0]),o&1&&(f.cardIndex=e[21]),o&65557&&(f.$$scope={dirty:o,ctx:e}),t.$set(f)},i(s){n||(g(t.$$.fragment,s),n=!0)},o(s){b(t.$$.fragment,s),n=!1},d(s){s&&m(l),F(t,s)}}}function Ge(r){let e,l;return e=new se({props:{$$slots:{default:[st]},$$scope:{ctx:r}}}),e.$on("click",r[13]),{c(){H(e.$$.fragment)},l(t){M(e.$$.fragment,t)},m(t,n){A(e,t,n),l=!0},p(t,n){const i={};n&65668&&(i.$$scope={dirty:n,ctx:t}),e.$set(i)},i(t){l||(g(e.$$.fragment,t),l=!0)},o(t){b(e.$$.fragment,t),l=!1},d(t){F(e,t)}}}function rt(r){let e,l,t;return l=new de({props:{buttons:r[2]>56?"new,restart":"new",text:r[2]>72,class:"w-full"}}),{c(){e=D("div"),H(l.$$.fragment)},l(n){e=V(n,"DIV",{});var i=C(e);M(l.$$.fragment,i),i.forEach(m)},m(n,i){$(n,e,i),A(l,e,null),t=!0},p(n,i){const s={};i&4&&(s.buttons=n[2]>56?"new,restart":"new"),i&4&&(s.text=n[2]>72),l.$set(s)},i(n){t||(g(l.$$.fragment,n),t=!0)},o(n){b(l.$$.fragment,n),t=!1},d(n){n&&m(e),F(l)}}}function ft(r){let e,l,t=typeof r[7].canRecycle=="number"&&qe(r);return{c(){e=D("div"),l=L(`Cycle
                  `),t&&t.c(),this.h()},l(n){e=V(n,"DIV",{});var i=C(e);l=T(i,`Cycle
                  `),t&&t.l(i),i.forEach(m),this.h()},h(){O(e,"text-gray-600",!r[7].canRecycle)},m(n,i){$(n,e,i),S(e,l),t&&t.m(e,null)},p(n,i){typeof n[7].canRecycle=="number"?t?t.p(n,i):(t=qe(n),t.c(),t.m(e,null)):t&&(t.d(1),t=null),i&128&&O(e,"text-gray-600",!n[7].canRecycle)},i:Y,o:Y,d(n){n&&m(e),t&&t.d()}}}function qe(r){let e,l=r[7].canRecycle+"",t,n;return{c(){e=L("("),t=L(l),n=L(")")},l(i){e=T(i,"("),t=T(i,l),n=T(i,")")},m(i,s){$(i,e,s),$(i,t,s),$(i,n,s)},p(i,s){s&128&&l!==(l=i[7].canRecycle+"")&&bl(t,l)},d(i){i&&m(e),i&&m(t),i&&m(n)}}}function st(r){let e,l,t,n;const i=[ft,rt],s=[];function o(f,c){return f[7].canRecycle?0:1}return e=o(r),l=s[e]=i[e](r),{c(){l.c(),t=q()},l(f){l.l(f),t=B(f)},m(f,c){s[e].m(f,c),$(f,t,c),n=!0},p(f,c){let _=e;e=o(f),e===_?s[e].p(f,c):(j(),b(s[_],1,1,()=>{s[_]=null}),G(),l=s[e],l?l.p(f,c):(l=s[e]=i[e](f),l.c()),g(l,1),l.m(t.parentNode,t))},i(f){n||(g(l),n=!0)},o(f){b(l),n=!1},d(f){s[e].d(f),f&&m(t)}}}function Be(r,e){let l,t,n;return t=new se({props:{card:e[19],stack:e[7].deck,facedown:!0,cardIndex:e[21]}}),t.$on("click",e[12]),{key:r,first:null,c(){l=y(),H(t.$$.fragment),this.h()},l(i){l=y(),M(t.$$.fragment,i),this.h()},h(){this.first=l},m(i,s){$(i,l,s),A(t,i,s),n=!0},p(i,s){e=i;const o={};s&1&&(o.card=e[19]),s&128&&(o.stack=e[7].deck),s&1&&(o.cardIndex=e[21]),t.$set(o)},i(i){n||(g(t.$$.fragment,i),n=!0)},o(i){b(t.$$.fragment,i),n=!1},d(i){i&&m(l),F(t,i)}}}function ot(r){let e,l,t,n;const i=[et,xl],s=[];function o(f,c){return f[7]&&typeof f[0]!="string"?0:1}return e=o(r),l=s[e]=i[e](r),{c(){l.c(),t=y()},l(f){l.l(f),t=y()},m(f,c){s[e].m(f,c),$(f,t,c),n=!0},p(f,[c]){let _=e;e=o(f),e===_?s[e].p(f,c):(j(),b(s[_],1,1,()=>{s[_]=null}),G(),l=s[e],l?l.p(f,c):(l=s[e]=i[e](f),l.c()),g(l,1),l.m(t.parentNode,t))},i(f){n||(g(l),n=!0)},o(f){b(l),n=!1},d(f){s[e].d(f),f&&m(t)}}}const ct=r=>{r.preventDefault()};function at(r,e,l){let t,n,i,s,o,f,c,_;U(r,oe,W=>l(1,s=W)),U(r,J,W=>l(7,o=W)),U(r,ie,W=>l(2,f=W)),U(r,ae,W=>l(17,c=W)),U(r,ol,W=>l(18,_=W));let{$$slots:k={},$$scope:u}=e,{stack:d}=e,a="",p=0,E=0;typeof d=="string"?(d==="-"&&(a="flex-shrink"),d==="_"&&(a="flex-grow")):d&&!d.isDeck&&(d.conf.horizontal?E=d.maxWidth*_:p=d.maxHeight*c);function h(W,le){!W||typeof W=="string"||(le?o==null||o.clickCard(le,W):o==null||o.deal(),J.set(o))}const w=()=>h(d),v=()=>h(d),z=W=>h(d,W),I=W=>{W.preventDefault(),d.wants(s.cards)&&(console.log("dropped!"),o.do(new vl("move",new wl(s.cardDepth,s.fromStack,d.index))))};return r.$$set=W=>{"stack"in W&&l(0,d=W.stack),"$$scope"in W&&l(16,u=W.$$scope)},r.$$.update=()=>{r.$$.dirty&1028&&l(6,t=f+E),r.$$.dirty&516&&l(5,n=f*1.5+p),r.$$.dirty&3&&l(4,i=d&&typeof d!="string"&&(s==null?void 0:s.cards)&&d.wants(s.cards))},[d,s,f,a,i,n,t,o,h,p,E,k,w,v,z,I,u]}class _l extends X{constructor(e){super(),x(this,e,at,ot,ee,{stack:0})}}function Le(r,e,l){const t=r.slice();return t[9]=e[l],t}function Te(r,e,l){const t=r.slice();return t[12]=e[l],t}function Pe(r,e,l){const t=r.slice();return t[9]=e[l],t[16]=l,t}function Ue(r,e,l){const t=r.slice();return t[12]=e[l],t}function Je(r){let e,l,t,n=r[2].layout,i=[];for(let u=0;u<n.length;u+=1)i[u]=Ye(Pe(r,n,u));const s=u=>b(i[u],1,1,()=>{i[u]=null});let o=null;n.length||(o=Oe());let f=r[2].footer,c=[];for(let u=0;u<f.length;u+=1)c[u]=Xe(Le(r,f,u));const _=u=>b(c[u],1,1,()=>{c[u]=null});let k=null;return f.length||(k=Ze()),{c(){for(let u=0;u<i.length;u+=1)i[u].c();o&&o.c(),e=q();for(let u=0;u<c.length;u+=1)c[u].c();l=y(),k&&k.c()},l(u){for(let d=0;d<i.length;d+=1)i[d].l(u);o&&o.l(u),e=B(u);for(let d=0;d<c.length;d+=1)c[d].l(u);l=y(),k&&k.l(u)},m(u,d){for(let a=0;a<i.length;a+=1)i[a].m(u,d);o&&o.m(u,d),$(u,e,d);for(let a=0;a<c.length;a+=1)c[a].m(u,d);$(u,l,d),k&&k.m(u,d),t=!0},p(u,d){if(d&28){n=u[2].layout;let a;for(a=0;a<n.length;a+=1){const p=Pe(u,n,a);i[a]?(i[a].p(p,d),g(i[a],1)):(i[a]=Ye(p),i[a].c(),g(i[a],1),i[a].m(e.parentNode,e))}for(j(),a=n.length;a<i.length;a+=1)s(a);G(),!n.length&&o?o.p(u,d):n.length?o&&(o.d(1),o=null):(o=Oe(),o.c(),o.m(e.parentNode,e))}if(d&12){f=u[2].footer;let a;for(a=0;a<f.length;a+=1){const p=Le(u,f,a);c[a]?(c[a].p(p,d),g(c[a],1)):(c[a]=Xe(p),c[a].c(),g(c[a],1),c[a].m(l.parentNode,l))}for(j(),a=f.length;a<c.length;a+=1)_(a);G(),!f.length&&k?k.p(u,d):f.length?k&&(k.d(1),k=null):(k=Ze(),k.c(),k.m(l.parentNode,l))}},i(u){if(!t){for(let d=0;d<n.length;d+=1)g(i[d]);for(let d=0;d<f.length;d+=1)g(c[d]);t=!0}},o(u){i=i.filter(Boolean);for(let d=0;d<i.length;d+=1)b(i[d]);c=c.filter(Boolean);for(let d=0;d<c.length;d+=1)b(c[d]);t=!1},d(u){ne(i,u),o&&o.d(u),u&&m(e),ne(c,u),u&&m(l),k&&k.d(u)}}}function Oe(r){let e;return{c(){e=D("div"),this.h()},l(l){e=V(l,"DIV",{class:!0}),C(e).forEach(m),this.h()},h(){N(e,"class","w-full relative md:p-4 pointer-events-none")},m(l,t){$(l,e,t)},p:Y,d(l){l&&m(e)}}}function Qe(r){let e,l;return e=new _l({props:{stack:r[12]}}),{c(){H(e.$$.fragment)},l(t){M(e.$$.fragment,t)},m(t,n){A(e,t,n),l=!0},p(t,n){const i={};n&4&&(i.stack=t[12]),e.$set(i)},i(t){l||(g(e.$$.fragment,t),l=!0)},o(t){b(e.$$.fragment,t),l=!1},d(t){F(e,t)}}}function Ye(r){let e,l,t=r[9].stacks,n=[];for(let s=0;s<t.length;s+=1)n[s]=Qe(Ue(r,t,s));const i=s=>b(n[s],1,1,()=>{n[s]=null});return{c(){e=D("div");for(let s=0;s<n.length;s+=1)n[s].c();this.h()},l(s){e=V(s,"DIV",{class:!0,style:!0});var o=C(e);for(let f=0;f<n.length;f+=1)n[f].l(o);o.forEach(m),this.h()},h(){N(e,"class","flex flex-row w-full relative md:p-4 pointer-events-none select-none"),P(e,"height",(r[2].conf.overlayRows&&r[16]!==r[2].layout.length-1?r[3]*.4:r[3]+r[9].maxHeight*r[4]+r[4])+"px"),O(e,"justify-center",r[2].conf.centerRows)},m(s,o){$(s,e,o);for(let f=0;f<n.length;f+=1)n[f].m(e,null);l=!0},p(s,o){if(o&4){t=s[9].stacks;let f;for(f=0;f<t.length;f+=1){const c=Ue(s,t,f);n[f]?(n[f].p(c,o),g(n[f],1)):(n[f]=Qe(c),n[f].c(),g(n[f],1),n[f].m(e,null))}for(j(),f=t.length;f<n.length;f+=1)i(f);G()}(!l||o&28)&&P(e,"height",(s[2].conf.overlayRows&&s[16]!==s[2].layout.length-1?s[3]*.4:s[3]+s[9].maxHeight*s[4]+s[4])+"px"),o&4&&O(e,"justify-center",s[2].conf.centerRows)},i(s){if(!l){for(let o=0;o<t.length;o+=1)g(n[o]);l=!0}},o(s){n=n.filter(Boolean);for(let o=0;o<n.length;o+=1)b(n[o]);l=!1},d(s){s&&m(e),ne(n,s)}}}function Ze(r){let e;return{c(){e=D("div"),this.h()},l(l){e=V(l,"DIV",{class:!0}),C(e).forEach(m),this.h()},h(){N(e,"class","w-full relative md:p-4 pointer-events-none")},m(l,t){$(l,e,t)},p:Y,d(l){l&&m(e)}}}function Ke(r){let e,l;return e=new _l({props:{stack:r[12]}}),{c(){H(e.$$.fragment)},l(t){M(e.$$.fragment,t)},m(t,n){A(e,t,n),l=!0},p(t,n){const i={};n&4&&(i.stack=t[12]),e.$set(i)},i(t){l||(g(e.$$.fragment,t),l=!0)},o(t){b(e.$$.fragment,t),l=!1},d(t){F(e,t)}}}function Xe(r){let e,l,t,n=r[9].stacks,i=[];for(let o=0;o<n.length;o+=1)i[o]=Ke(Te(r,n,o));const s=o=>b(i[o],1,1,()=>{i[o]=null});return{c(){e=D("div");for(let o=0;o<i.length;o+=1)i[o].c();l=q(),this.h()},l(o){e=V(o,"DIV",{class:!0,style:!0});var f=C(e);for(let c=0;c<i.length;c+=1)i[c].l(f);l=B(f),f.forEach(m),this.h()},h(){N(e,"class","flex flex-row w-full relative md:p-4 pointer-events-none"),P(e,"height",r[3]+"px"),O(e,"justify-center",r[2].conf.centerRows)},m(o,f){$(o,e,f);for(let c=0;c<i.length;c+=1)i[c].m(e,null);S(e,l),t=!0},p(o,f){if(f&4){n=o[9].stacks;let c;for(c=0;c<n.length;c+=1){const _=Te(o,n,c);i[c]?(i[c].p(_,f),g(i[c],1)):(i[c]=Ke(_),i[c].c(),g(i[c],1),i[c].m(e,l))}for(j(),c=n.length;c<i.length;c+=1)s(c);G()}(!t||f&8)&&P(e,"height",o[3]+"px"),f&4&&O(e,"justify-center",o[2].conf.centerRows)},i(o){if(!t){for(let f=0;f<n.length;f+=1)g(i[f]);t=!0}},o(o){i=i.filter(Boolean);for(let f=0;f<i.length;f+=1)b(i[f]);t=!1},d(o){o&&m(e),ne(i,o)}}}function ut(r){let e,l,t,n=r[2]&&Je(r);return{c(){e=D("div"),n&&n.c(),this.h()},l(i){e=V(i,"DIV",{id:!0,class:!0});var s=C(e);n&&n.l(s),s.forEach(m),this.h()},h(){N(e,"id","game"),N(e,"class","flex flex-col text-white h-full"),ce(()=>r[8].call(e))},m(i,s){$(i,e,s),n&&n.m(e,null),l=kl(e,r[8].bind(e)),t=!0},p(i,[s]){i[2]?n?(n.p(i,s),s&4&&g(n,1)):(n=Je(i),n.c(),g(n,1),n.m(e,null)):n&&(j(),b(n,1,1,()=>{n=null}),G())},i(i){t||(g(n),t=!0)},o(i){b(n),t=!1},d(i){i&&m(e),n&&n.d(),l()}}}function _t(r,e,l){let t,n,i,s,o,f;U(r,ie,u=>l(7,s=u)),U(r,J,u=>l(2,o=u)),U(r,ae,u=>l(4,f=u));let c=0,_=0;function k(){c=this.clientWidth,_=this.clientHeight,l(0,c),l(1,_)}return r.$$.update=()=>{var u,d,a,p,E;r.$$.dirty&4&&l(5,t=((u=o==null?void 0:o.layout)==null?void 0:u.length)+((d=o==null?void 0:o.footer)==null?void 0:d.length)),r.$$.dirty&4&&l(6,n=(a=o==null?void 0:o.layout)==null?void 0:a.reduce((h,w)=>h+=w.maxHeight-1,0)),r.$$.dirty&103&&ie.set(Math.min(c/(o==null?void 0:o.longestRow)-5,(-.018*_*n+_*.55)/(t*((p=o==null?void 0:o.conf)!=null&&p.overlayRows?((E=o==null?void 0:o.layout)==null?void 0:E.length)*.1:1)))),r.$$.dirty&128&&l(3,i=s*1.5)},[c,_,o,i,f,t,n,s,k]}class dt extends X{constructor(e){super(),x(this,e,_t,ut,ee,{})}}function xe(r){var u,d;let e,l,t,n,i,s,o,f,c,_;l=new ue({props:{dropdownFrom:"top",linear:!0,size:"lg",class:"text-blue-400 text-lg py-1 bg-gray-700 rounded-b border-gray-800"}}),n=new _e({props:{linear:!0,size:"lg",class:"text-lg h-full py-1"}}),f=new de({props:{size:"lg",class:"align-middle text-sm text-white bg-gray-700",position:"top"}});let k=((d=(u=r[0])==null?void 0:u.conf)==null?void 0:d.family)&&el(r);return{c(){e=D("header"),H(l.$$.fragment),t=q(),H(n.$$.fragment),i=q(),s=D("div"),o=q(),H(f.$$.fragment),c=q(),k&&k.c(),this.h()},l(a){e=V(a,"HEADER",{class:!0});var p=C(e);M(l.$$.fragment,p),t=B(p),M(n.$$.fragment,p),i=B(p),s=V(p,"DIV",{class:!0}),C(s).forEach(m),o=B(p),M(f.$$.fragment,p),c=B(p),k&&k.l(p),p.forEach(m),this.h()},h(){N(s,"class","flex-grow"),N(e,"class","flex-grow-0 flex flex-row z-10 w-full px-12 border-b-2 border-gray-800 bg-gray-700 text-white")},m(a,p){$(a,e,p),A(l,e,null),S(e,t),A(n,e,null),S(e,i),S(e,s),S(e,o),A(f,e,null),S(e,c),k&&k.m(e,null),_=!0},p(a,p){var E,h;(h=(E=a[0])==null?void 0:E.conf)!=null&&h.family?k?(k.p(a,p),p&1&&g(k,1)):(k=el(a),k.c(),g(k,1),k.m(e,null)):k&&(j(),b(k,1,1,()=>{k=null}),G())},i(a){_||(g(l.$$.fragment,a),g(n.$$.fragment,a),g(f.$$.fragment,a),g(k),_=!0)},o(a){b(l.$$.fragment,a),b(n.$$.fragment,a),b(f.$$.fragment,a),b(k),_=!1},d(a){a&&m(e),F(l),F(n),F(f),k&&k.d()}}}function el(r){let e,l;return e=new ue({props:{dropdownFrom:"top",size:"lg",class:"text-sm bg-gray-700 rounded-b right-0 border-gray-800 text-right text-white",childClass:"min-w-full",family:r[0].conf.family}}),{c(){H(e.$$.fragment)},l(t){M(e.$$.fragment,t)},m(t,n){A(e,t,n),l=!0},p(t,n){const i={};n&1&&(i.family=t[0].conf.family),e.$set(i)},i(t){l||(g(e.$$.fragment,t),l=!0)},o(t){b(e.$$.fragment,t),l=!1},d(t){F(e,t)}}}function mt(r){let e,l,t,n,i,s,o;return s=new _e({props:{linear:!0,size:"sm",class:"text-white"}}),{c(){e=D("div"),l=L("\xA9 2021 David Hunt"),t=q(),n=D("div"),i=q(),H(s.$$.fragment),this.h()},l(f){e=V(f,"DIV",{class:!0});var c=C(e);l=T(c,"\xA9 2021 David Hunt"),c.forEach(m),t=B(f),n=V(f,"DIV",{class:!0}),C(n).forEach(m),i=B(f),M(s.$$.fragment,f),this.h()},h(){N(e,"class","caps-small"),N(n,"class","flex-grow")},m(f,c){$(f,e,c),S(e,l),$(f,t,c),$(f,n,c),$(f,i,c),A(s,f,c),o=!0},p:Y,i(f){o||(g(s.$$.fragment,f),o=!0)},o(f){b(s.$$.fragment,f),o=!1},d(f){f&&m(e),f&&m(t),f&&m(n),f&&m(i),F(s,f)}}}function ht(r){let e,l,t,n;return e=new Q({props:{icon:Sl,dropdownFrom:"bottom",class:"bg-gray-900 text-white",$$slots:{menu:[gt],default:[pt]},$$scope:{ctx:r}}}),t=new de({props:{class:"text-white bg-gray-900 border-gray-900",buttons:"undo,redo,game",position:"bottom"}}),{c(){H(e.$$.fragment),l=q(),H(t.$$.fragment)},l(i){M(e.$$.fragment,i),l=B(i),M(t.$$.fragment,i)},m(i,s){A(e,i,s),$(i,l,s),A(t,i,s),n=!0},p(i,s){const o={};s&9&&(o.$$scope={dirty:s,ctx:i}),e.$set(o)},i(i){n||(g(e.$$.fragment,i),g(t.$$.fragment,i),n=!0)},o(i){b(e.$$.fragment,i),b(t.$$.fragment,i),n=!1},d(i){F(e,i),i&&m(l),F(t,i)}}}function pt(r){let e;return{c(){e=L("Menu")},l(l){e=T(l,"Menu")},m(l,t){$(l,e,t)},d(l){l&&m(e)}}}function gt(r){var s,o;let e,l,t,n,i;return l=new ue({props:{linear:!0,family:((o=(s=r[0])==null?void 0:s.conf)==null?void 0:o.family)||"",class:"bg-gray-900 text-white hover:no-underline"}}),n=new _e({props:{linear:!0,class:"text-white hover:no-underline"}}),{c(){e=D("div"),H(l.$$.fragment),t=q(),H(n.$$.fragment),this.h()},l(f){e=V(f,"DIV",{slot:!0,class:!0});var c=C(e);M(l.$$.fragment,c),t=B(c),M(n.$$.fragment,c),c.forEach(m),this.h()},h(){N(e,"slot","menu"),N(e,"class","bg-gray-900 text-white rounded-t border-gray-600")},m(f,c){$(f,e,c),A(l,e,null),S(e,t),A(n,e,null),i=!0},p(f,c){var k,u;const _={};c&1&&(_.family=((u=(k=f[0])==null?void 0:k.conf)==null?void 0:u.family)||""),l.$set(_)},i(f){i||(g(l.$$.fragment,f),g(n.$$.fragment,f),i=!0)},o(f){b(l.$$.fragment,f),b(n.$$.fragment,f),i=!1},d(f){f&&m(e),F(l),F(n)}}}function bt(r){var E;let e,l,t,n,i,s,o,f,c,_,k;document.title=e=((E=r[0])==null?void 0:E.title)+" | Solitaire Table";let u=r[1]==="desktop"&&xe(r);s=new dt({});const d=[ht,mt],a=[];function p(h,w){return h[1]==="mobile"?0:1}return c=p(r),_=a[c]=d[c](r),{c(){l=q(),t=D("div"),u&&u.c(),n=q(),i=D("div"),H(s.$$.fragment),o=q(),f=D("footer"),_.c(),this.h()},l(h){$l('[data-svelte="svelte-18ey8t2"]',document.head).forEach(m),l=B(h),t=V(h,"DIV",{class:!0});var v=C(t);u&&u.l(v),n=B(v),i=V(v,"DIV",{id:!0,class:!0});var z=C(i);M(s.$$.fragment,z),z.forEach(m),o=B(v),f=V(v,"FOOTER",{class:!0});var I=C(f);_.l(I),I.forEach(m),v.forEach(m),this.h()},h(){N(i,"id","main"),N(i,"class","flex-grow max-w-full overflow-x-hidden bg-green-800 pt-4 md:pt-8"),N(f,"class","flex-grow-0 flex flex-row justify-center h-12 w-full leading-10 px-12 text-xs bg-gray-900 text-white"),N(t,"class","h-screen flex flex-col")},m(h,w){$(h,l,w),$(h,t,w),u&&u.m(t,null),S(t,n),S(t,i),A(s,i,null),S(t,o),S(t,f),a[c].m(f,null),k=!0},p(h,[w]){var z;(!k||w&1)&&e!==(e=((z=h[0])==null?void 0:z.title)+" | Solitaire Table")&&(document.title=e),h[1]==="desktop"?u?(u.p(h,w),w&2&&g(u,1)):(u=xe(h),u.c(),g(u,1),u.m(t,n)):u&&(j(),b(u,1,1,()=>{u=null}),G());let v=c;c=p(h),c===v?a[c].p(h,w):(j(),b(a[v],1,1,()=>{a[v]=null}),G(),_=a[c],_?_.p(h,w):(_=a[c]=d[c](h),_.c()),g(_,1),_.m(f,null))},i(h){k||(g(u),g(s.$$.fragment,h),g(_),k=!0)},o(h){b(u),b(s.$$.fragment,h),b(_),k=!1},d(h){h&&m(l),h&&m(t),u&&u.d(),F(s),a[c].d()}}}function kt(r,e,l){let t,n,i;return U(r,Il,s=>l(2,t=s)),U(r,J,s=>l(0,n=s)),U(r,Vl,s=>l(1,i=s)),El(s=>{console.log({before:s}),J.set(void 0)}),Nl(s=>{console.log({after:s});let o=t.url.searchParams.get("g");o||(o="klondike-vegas");let f=t.url.searchParams.get("d");J.set(new zl(o,f))}),[n,i]}class zt extends X{constructor(e){super(),x(this,e,kt,bt,ee,{})}}export{zt as default};
